<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="/css/header.css" />
    <title>AddProduct</title>
  </head>
  <body>
    <div class="wrapper">
      <header class="header header-container w-100 p-3">
        <div class="">
          <div class="header__container">
            <div class="Title-container">
              <a href="ProductMenu.html" class="Title-color">Cat shop</a>
              <a
                href="AddProduct.html"
                class="button-stile-all button-style-pup"
                >Add</a
              >
              <a href="" class="header__nav_item link"></a>
            </div>
          </div>
        </div>
      </header>
      <main class="main">
        <div class="formAdd" style="padding:30px 900px 0px 900px; ">
          <form style="padding: 40px;border-radius: 10px; background: #E4E3E8; box-shadow: 5px 4px 18px rgba(44, 59, 88, 0.37);">
            <div class="form-group row " style="padding: 20px;">
              <label for="inputName" class="col-sm-2 col-form-label font-style-my"
                >Name</label
              >
              <div class="col-sm-10">
                <input
                  type="text"
                  class="input-style-my font-style-my"
                  id="inputName"
                  placeholder="Name"
                />
              </div>
                
            </div>
            
              <fieldset class="form-group">
                <div class="row">
                  <legend class="col-form-label col-sm-2 pt-0">Radios</legend>
                  <div class="categories">
                    <div class="col-sm-10"></div>
                  </div>
                </div>
              </fieldset>
            </div>
            <div
              class="form-group row"
              style="padding-left: 20px; padding-top: 20px"
            >
              <div class="col-sm-10">
                <button
                  type="button"
                  id="addProduct"
                  onclick="addProductClick()"
                  class="button-stile-all"
                  style="border-width: 0"
                >
                  Save
                </button>
                <button
                  type="button"
                  id="addCategories"
                  onclick="addClick()"
                  class="button-stile-all"
                  style="border-width: 0"
                >
                  +
                </button>
              </div>
            </div>
          </form>
        </div>
      </main>
    </div>
    <script src="./js/viewCategories.js"></script>
    <script src="./js/addNewCatigories.js"></script>
    <script src="./js/deleteCategories.js"></script>
    <script src="./js/AddNewProduct.js"></script>
    <script src="./js/editProduct.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Получаем параметры URL
        const params = new URLSearchParams(window.location.search);

        // Получаем значения параметров
        const id = params.get("id");
        const name = params.get("name");
        let description = params.get("description");
        let nameImg = params.get("nameImg");
        const price = params.get("price");
        const quantity = params.get("quantity");

        // Получаем имя новой функции из параметров URL
        const newFunctionName = params.get("newFunctionName");
        if (description === "null") {
          description = "";
        }
        if (nameImg === "null") {
          nameImg = "";
        }
        // Устанавливаем значения в поля формы
        document.getElementById("inputName").value = name;
        document.getElementById("inputDescription").value = description;
        document.getElementById("inputNameImg").value = nameImg;
        document.getElementById("inputPrice").value = price;
        document.getElementById("inputQuantity").value = quantity;
        if (newFunctionName == 1) {
          const editButton = document.getElementById("addProduct");
          editButton.setAttribute("onclick", `editProduct(${id})`);
        }
      });
    </script>
  </body>
</html>
